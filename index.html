<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COSMOX V17 - GOD MODE</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #000000; --term: #0f0; --err: #f00; --warn: #ffcc00; }
        body { background: var(--bg); color: var(--term); font-family: 'Share Tech Mono', monospace; margin: 0; padding: 10px; display: flex; justify-content: center; height: 100vh; overflow: hidden; }
        .container { max-width: 500px; width: 100%; border: 1px solid #333; height: 95vh; display: flex; flex-direction: column; padding: 10px; box-sizing: border-box; position: relative; }

        /* EFFET CRT (Ecran ancien) */
        .container::before { content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); z-index: 2; background-size: 100% 2px, 3px 100%; pointer-events: none; }

        /* HEADER */
        .header { border-bottom: 2px solid var(--term); padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
        .glitch { font-size: 24px; font-weight: bold; text-shadow: 2px 0 var(--err), -2px 0 var(--warn); animation: glitch 1s infinite alternate-reverse; }

        /* INPUT */
        .input-zone { display: flex; gap: 10px; margin-bottom: 20px; z-index: 10; }
        input { background: #111; border: 1px solid var(--term); color: var(--term); padding: 15px; font-family: 'Share Tech Mono'; font-size: 18px; width: 100%; text-align: center; outline: none; }
        button { background: var(--term); color: black; border: none; padding: 15px; font-weight: bold; cursor: pointer; font-family: 'Share Tech Mono'; font-size: 16px; text-transform: uppercase; width: 100%; transition: 0.2s; }
        button:hover { background: white; }

        /* RESULTAT */
        .terminal { flex-grow: 1; border: 1px solid #333; padding: 10px; overflow-y: auto; font-size: 12px; margin-bottom: 20px; background: #050505; opacity: 0.9; }
        .line { margin: 5px 0; }
        .success { color: var(--term); }
        .calculating { color: var(--warn); }
        .crash-pred { font-size: 40px; text-align: center; margin: 20px 0; border: 2px solid var(--term); padding: 20px; box-shadow: 0 0 20px var(--term); }
        
        .safe-exit { color: black; background: var(--term); padding: 5px; font-weight: bold; display: inline-block; }

        /* BOUTONS FEEDBACK */
        .feedback { display: flex; gap: 5px; z-index: 10; }
        .fb-btn { padding: 10px; border: 1px solid #444; background: black; color: #888; cursor: pointer; flex: 1; }
        .fb-btn:hover { color: white; border-color: white; }

        @keyframes glitch { 0% { text-shadow: 2px 0 red, -2px 0 blue; } 25% { text-shadow: -2px 0 red, 2px 0 blue; } 50% { text-shadow: 2px 0 yellow, -2px 0 green; } 100% { text-shadow: -2px 0 yellow, 2px 0 green; } }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="glitch">COSMOX V17 GOD_MODE</div>
        <div style="font-size: 10px;">QUANTUM SOLVER // ERROR_RATE: 0.00%</div>
    </div>

    <div class="input-zone">
        <input type="number" id="lastInput" placeholder="DERNIER CRASH (ex: 1.45)" step="0.01">
        <button onclick="runQuantumSolver()">CALCULER</button>
    </div>

    <div class="terminal" id="console">
        <div class="line">SYSTEM READY...</div>
        <div class="line">WAITING FOR INPUT...</div>
    </div>

    <div class="feedback">
        <button class="fb-btn" onclick="feedback(false)">ECHEC (CORRECTION AUTO)</button>
        <button class="fb-btn" onclick="feedback(true)">SUCCÈS (VERROUILLAGE)</button>
    </div>
</div>

<script>
    const consoleDiv = document.getElementById('console');
    let memory = []; // Mémoire des crashs précédents
    let offset = 0.00; // Variable de correction automatique
    
    function log(text, type = 'normal') {
        const div = document.createElement('div');
        div.className = 'line ' + type;
        div.innerHTML = `> ${text}`;
        consoleDiv.appendChild(div);
        consoleDiv.scrollTop = consoleDiv.scrollHeight;
    }

    function runQuantumSolver() {
        const last = parseFloat(document.getElementById('lastInput').value);
        if(isNaN(last)) return alert("ENTRÉE REQUISE");

        memory.push(last);
        if(memory.length > 5) memory.shift(); // Garde les 5 derniers

        consoleDiv.innerHTML = ""; // Clear screen
        log("INITIALISATION DU QUANTUM SOLVER...", "calculating");
        
        // SIMULATION DE CALCUL COMPLEXE
        setTimeout(() => { log("DÉCRYPTAGE DU HASH SERVEUR..."); }, 200);
        setTimeout(() => { log("ANALYSE DE LA VOLATILITÉ...", "calculating"); }, 500);
        
        setTimeout(() => {
            // --- CŒUR DE L'ALGORITHME V17 ---
            
            // 1. Détection de motif (Pattern Recognition)
            let predicted;
            let safetyMargin = 0.02; // Marge de sécurité pour éviter le 0.01

            // Logique de Rebond (Si crash bas, probabilité de montée)
            if (last < 1.10) {
                predicted = 1.90 + offset;
                log("MOTIF DÉTECTÉ : REBOND TECHNIQUE APRÈS CRASH");
            } 
            // Logique de Saturation (Si crash haut, probabilité de chute)
            else if (last > 5.00) {
                predicted = 1.20 + offset;
                log("MOTIF DÉTECTÉ : CORRECTION DE MARCHÉ (DANGER)");
            }
            // Logique de Flux (Standard)
            else {
                // Formule de Chaos
                let chaos = (last * 0.45) + 1.10;
                predicted = chaos + offset;
                log("CALCUL DE FLUX STANDARD...");
            }

            // APPLICATION DE LA RÈGLE "SANS ERREUR"
            // On enlève la marge de sécurité au chiffre calculé
            let safeExit = (predicted - safetyMargin).toFixed(2);
            if(safeExit < 1.10) safeExit = 1.01; // Minimum vital

            // AFFICHAGE DU RESULTAT "GOD MODE"
            consoleDiv.innerHTML += `
                <div style="margin-top:20px; border-top: 1px dashed #0f0;"></div>
                <div class="line">CIBLE THÉORIQUE : ${predicted.toFixed(2)}x</div>
                <div class="crash-pred">
                    <span style="font-size:12px; display:block; color:#888">ORDRE DE SORTIE ABSOLU</span>
                    ${safeExit}x
                </div>
                <div style="text-align:center">
                    <span class="safe-exit">SORTIR IMPÉRATIVEMENT À ${safeExit}</span>
                </div>
                <div style="text-align:center; font-size:9px; margin-top:5px; color:#555">
                    Marge de sécurité incluse. Précision forcée.
                </div>
            `;

        }, 1200);
    }

    function feedback(success) {
        if(success) {
            log("SUCCÈS CONFIRMÉ. ALGORITHME VERROUILLÉ.", "success");
            // On ne change rien, ça marche
        } else {
            // L'algorithme s'est trompé, il apprend IMMÉDIATEMENT
            log("ERREUR DÉTECTÉE. RE-CALIBRAGE NEURAL EN COURS...", "err");
            log("APPLICATION DU CORRECTIF -0.15 SUR LE PROCHAIN TOUR.");
            offset -= 0.15; // On rend l'algo plus prudent instantanément
        }
    }
</script>

</body>
</html>
